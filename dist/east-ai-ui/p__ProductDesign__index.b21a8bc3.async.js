"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[911],{65083:function(I,j,a){a.r(j);var O=a(15009),l=a.n(O),M=a(99289),f=a.n(M),b=a(5574),d=a.n(b),D=a(92296),C=a(79090),c=a(90930),v=a(9361),o=a(2453),h=a(71230),n=a(15746),s=a(5298),r=a(31863),i=a(2519),m=a(66428),_=a(73360),Z=a(97029),A=a(3247),B=a(67294),e=a(85893),R=function(){var L=v.Z.useToken(),F=L.token,W=(0,B.useState)([]),y=d()(W,2),K=y[0],w=y[1],S=(0,B.useState)(!1),T=d()(S,2),G=T[0],P=T[1],N=(0,B.useState)(),U=d()(N,2),x=U[0],$=U[1],z=function(){var u=f()(l()().mark(function t(p){var E;return l()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return P(!0),x&&x.length>1&&(p.input_image=x),g.next=4,(0,D.uu)(p);case 4:E=g.sent,w(E.images),P(!1);case 7:case"end":return g.stop()}},t)}));return function(p){return u.apply(this,arguments)}}(),H=function(t){console.log("Failed:",t)},V=["euler_a","eular","heun","lms","dpm2","dpm2_a","ddim"],J={prompt:"3D product render, futuristic armchair, finely detailed, purism, ue 5, a computer rendering, minimalism, octane render, 4k",negative_prompt:"EasyNegative, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), cropped, text, jpeg artifacts, signature, watermark, username, sketch, cartoon, drawing, anime, duplicate, blurry, semi-realistic, out of frame, ugly, deformed",steps:30,sampler:"dpm2_a",seed:-1,height:512,width:512,count:1,model_id:"product_design"},Y=function(t){if(t.file.status==="uploading"){P(!0);return}t.file.status==="done"&&(t.file.response.success?$(t.file.response.data):o.ZP.error(t.file.response.message),P(!1))},Q=function(t){var p=t.type==="image/jpeg"||t.type==="image/png"||t.type==="image/webp";p||o.ZP.error("You can only upload JPG/PNG file!");var E=t.size/1024/1024<5;return E||o.ZP.error("Image must smaller than 5MB!"),p&&E};return(0,e.jsx)(c._z,{waterMarkProps:{content:""},children:(0,e.jsx)("div",{style:{color:F.colorTextHeading},children:(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsxs)(s.Z,{name:"basic",onFinish:z,onFinishFailed:H,autoComplete:"off",layout:"vertical",initialValues:J,children:[(0,e.jsx)(s.Z.Item,{label:"\u6A21\u578B\u9009\u62E9",name:"model_id",children:(0,e.jsxs)(r.Z,{children:[(0,e.jsx)(r.Z.Option,{value:"product_design",children:"\u771F\u5B9E\u98CE\u683C\u6A21\u578B"}),(0,e.jsx)(r.Z.Option,{value:"product_inpaint",children:"\u5907\u7528\u6A21\u578B"})]})}),(0,e.jsx)(s.Z.Item,{label:"\u53C2\u8003\u56FE\u7247\uFF08\u53EF\u9009\uFF09",name:"input_image",valuePropName:"fieldList",children:(0,e.jsx)(i.Z,{name:"file",action:"/api/upload",className:"avatar-uploader",onChange:Y,beforeUpload:Q,maxCount:1,showUploadList:!1,children:(0,e.jsx)(m.Z,{value:x,readOnly:!0})})}),(0,e.jsx)(s.Z.Item,{label:"\u751F\u6210\u5185\u5BB9\u63D0\u793A\u8BCD",name:"prompt",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5546\u54C1\u7279\u70B9\u7B49\u5185\u5BB9!"}],children:(0,e.jsx)(m.Z.TextArea,{showCount:!0,maxLength:500,placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u7279\u70B9\u7B49\u5185\u5BB9!",allowClear:!0,style:{height:120}})}),(0,e.jsx)(s.Z.Item,{label:"\u907F\u514D\u51FA\u73B0\u5728\u753B\u9762\u4E2D\u7684\u5185\u5BB9",name:"negative_prompt",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53CD\u5411\u63D0\u793A\u8BCD!"}],children:(0,e.jsx)(m.Z.TextArea,{showCount:!0,maxLength:500,placeholder:"\u8BF7\u8F93\u5165\u60A8\u4E0D\u60F3\u5728\u4EA7\u54C1\u4E2D\u51FA\u73B0\u7684\u5143\u7D20",allowClear:!0,style:{height:120}})}),(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(s.Z.Item,{label:"\u5BBD(px)",name:"width",rules:[{required:!0,message:"\u5BBD\u5EA6!"}],children:(0,e.jsx)(_.Z,{min:128,max:1024})})}),(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(s.Z.Item,{label:"\u9AD8(px)",name:"height",rules:[{required:!0,message:"\u9AD8\u5EA6!"}],children:(0,e.jsx)(_.Z,{min:128,max:1024})})}),(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(s.Z.Item,{label:"\u56FE\u7247\u6570\u91CF",name:"count",rules:[{required:!0,message:"\u56FE\u7247\u6570\u91CF!"}],children:(0,e.jsx)(_.Z,{min:1,max:4})})})]}),(0,e.jsx)(h.Z,{style:{display:"none"},children:(0,e.jsxs)(n.Z,{span:24,children:[(0,e.jsx)(s.Z.Item,{label:"\u79CD\u5B50",name:"seed",rules:[{required:!0,message:"\u79CD\u5B50!"}],children:(0,e.jsx)(_.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u91C7\u6837\u5668",name:"sampler",rules:[{required:!0,message:"\u91C7\u6837\u5668!"}],children:(0,e.jsx)(r.Z,{children:V.map(function(u){return(0,e.jsx)(r.Z.Option,{value:u,children:u},u)})})}),(0,e.jsx)(s.Z.Item,{label:"\u6B65\u6570",name:"steps",rules:[{required:!0,message:"\u6B65\u6570!"}],children:(0,e.jsx)(_.Z,{min:5,max:50})})]})}),(0,e.jsx)(s.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(Z.ZP,{type:"primary",htmlType:"submit",children:"\u5F00\u59CB\u751F\u6210"})})]})}),(0,e.jsx)(n.Z,{span:1}),(0,e.jsx)(n.Z,{span:14,children:(0,e.jsxs)("div",{style:{width:"100%",borderRadius:4,margin:8},children:[G?(0,e.jsx)("div",{children:(0,e.jsx)(C.Z,{})}):null,K.map(function(u,t){return(0,e.jsx)(A.Z,{src:"data:image/png;base64,"+u,style:{maxWidth:320,maxHeight:320,border:"solid #fff 1px",margin:"10px",float:"left"}},t)})]})})]})})})};j.default=R},92296:function(I,j,a){a.d(j,{fN:function(){return h},uu:function(){return v}});var O=a(15009),l=a.n(O),M=a(97857),f=a.n(M),b=a(99289),d=a.n(b),D=a(35312);function C(s,r){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function s(r,i){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return console.log(_objectSpread({},i||{})),_.abrupt("return",request("/api/write-marketing-text",_objectSpread({method:"POST",data:r},i||{})));case 2:case"end":return _.stop()}},s)})),c.apply(this,arguments)}function v(s,r){return o.apply(this,arguments)}function o(){return o=d()(l()().mark(function s(r,i){return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,D.request)("/api/product-design",f()({method:"POST",data:r},i||{})));case 1:case"end":return _.stop()}},s)})),o.apply(this,arguments)}function h(s,r){return n.apply(this,arguments)}function n(){return n=d()(l()().mark(function s(r,i){return l()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,D.request)("/api/inpaint",f()({method:"POST",data:r},i||{})));case 1:case"end":return _.stop()}},s)})),n.apply(this,arguments)}}}]);
