"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[911],{65083:function(w,b,t){t.r(b);var T=t(15009),d=t.n(T),Z=t(99289),D=t.n(Z),C=t(5574),u=t.n(C),f=t(92296),I=t(79090),x=t(51042),U=t(90930),j=t(35312),A=t(9361),m=t(2453),y=t(10932),p=t(71230),n=t(15746),a=t(53025),_=t(56518),M=t(62136),s=t(34596),P=t(8925),F=t(9991),E=t(67294),e=t(85893),$=function(){var o=(0,j.useIntl)(),z=A.Z.useToken(),N=z.token,H=(0,E.useState)([]),S=u()(H,2),V=S[0],J=S[1],X=(0,E.useState)(!1),R=u()(X,2),W=R[0],O=R[1],Y=(0,E.useState)(),L=u()(Y,2),v=L[0],Q=L[1],q=(0,E.useState)("product_design"),B=u()(q,2),h=B[0],ee=B[1],te=(0,E.useState)(512),K=u()(te,2),ae=K[0],se=K[1],re=(0,E.useState)(512),k=u()(re,2),ne=k[0],_e=k[1],ie=function(){var i=D()(d()().mark(function r(l){var c;return d()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return O(!0),l.prompt="3D product render, ".concat(l.prompt,", finely detailed, purism, ue 5, a computer rendering, minimalism, octane render, 4k"),v&&v.length>1&&(l.input_image=v),l.width||(l.width=ae),l.height||(l.height=ne),g.next=7,(0,f.uu)(l);case 7:if(c=g.sent,!c.error){g.next=12;break}return m.ZP.error(c.error),O(!1),g.abrupt("return");case 12:J(c.images),O(!1);case 14:case"end":return g.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),le=function(r){console.log("Failed:",r)},oe=["euler_a","eular","heun","lms","dpm2","dpm2_a","ddim"],ue=["enhance","anime","photographic","digital-art","comic-book","fantasy-art","analog-film","neon-punk","isometric","low-poly","origami","line-art","craft-clay","cinematic","3d-model","pixel-art"],G={"512 x 512":[512,512],"768 x 768":[768,768],"1024 x 1024":[1024,1024],"576 x 384":[576,384],"640 x 384":[640,384],"704 x 384":[704,384],"1152 x 768":[1152,768],"1173 x 640":[1173,640],"320 x 704":[320,704],"448 x 576":[448,576],"768 x 1152":[768,1152]},de={prompt:"futuristic armchair",negative_prompt:"EasyNegative, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), cropped, text, jpeg artifacts, signature, watermark, username, sketch, cartoon, drawing, anime, duplicate, blurry, semi-realistic, out of frame, ugly, deformed",steps:30,sampler:"dpm2_a",seed:-1,height:512,width:512,count:1,model_id:"product_design",style_preset:"3d-model"},me=function(r){if(r.file.status==="uploading"){O(!0);return}r.file.status==="done"&&(r.file.response.success?Q(r.file.response.data):m.ZP.error(r.file.response.message),O(!1))},pe=function(r){var l=r.type==="image/jpeg"||r.type==="image/png"||r.type==="image/webp";l||m.ZP.error("You can only upload JPG/PNG file!");var c=r.size/1024/1024<5;return c||m.ZP.error("Image must smaller than 5MB!"),l&&c},he=function(r){ee(r)},ce=function(r){var l=G[r];se(l[0]),_e(l[1])},ge=(0,e.jsx)("div",{children:W?(0,e.jsx)(I.Z,{}):(0,e.jsx)(y.ZP,{icon:(0,e.jsx)(x.Z,{}),children:o.formatMessage({id:"pages.common.buttonUpload"})})});return(0,e.jsx)(U._z,{waterMarkProps:{content:""},children:(0,e.jsx)("div",{style:{color:N.colorTextHeading},children:(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsxs)(a.Z,{name:"basic",onFinish:ie,onFinishFailed:le,autoComplete:"off",layout:"vertical",initialValues:de,children:[(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.modelId.title"}),name:"model_id",children:(0,e.jsxs)(_.Z,{onChange:he,children:[(0,e.jsx)(_.Z.Option,{value:"product_design",children:o.formatMessage({id:"pages.productDesign.model.realityStyle"})}),(0,e.jsx)(_.Z.Option,{value:"bedrock_sdxl",children:o.formatMessage({id:"pages.productDesign.model.bedrockSDXL"})}),(0,e.jsx)(_.Z.Option,{value:"bedrock_titan",children:o.formatMessage({id:"pages.productDesign.model.bedrockTitan"})})]})}),h==="product_design"?(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.inputImage.title"}),name:"input_image",valuePropName:"fieldList",children:(0,e.jsx)(M.Z,{name:"file",action:"/api/upload",className:"avatar-uploader",onChange:me,beforeUpload:pe,maxCount:1,showUploadList:!1,children:v?(0,e.jsx)("img",{src:"/api/s3-image/"+v,alt:"product image",style:{maxHeight:320,maxWidth:320}}):ge})}):null,(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.prompt.title"}),name:"prompt",rules:[{required:!0}],children:(0,e.jsx)(s.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.nprompt.title"}),name:"negative_prompt",rules:[{required:!0}],children:(0,e.jsx)(s.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsxs)(p.Z,{children:[h==="bedrock_titan"?(0,e.jsx)(n.Z,{span:16,children:(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.size.title"}),children:(0,e.jsx)(_.Z,{onChange:ce,children:Object.keys(G).map(function(i){return(0,e.jsx)(_.Z.Option,{value:i},i)})})})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.width.title"}),name:"width",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:128,max:1024})})}),(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.height.title"}),name:"height",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:128,max:1024})})})]}),(0,e.jsxs)(n.Z,{span:8,children:[h==="product_design"||h==="bedrock_titan"?(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.count.title"}),name:"count",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:1,max:4})}):null,h==="bedrock_sdxl"?(0,e.jsx)(a.Z.Item,{label:o.formatMessage({id:"pages.productDesign.stylePreset.title"}),name:"style_preset",children:(0,e.jsx)(_.Z,{children:ue.map(function(i){return(0,e.jsx)(_.Z.Option,{value:i,children:i},i)})})}):null]})]}),(0,e.jsx)(p.Z,{style:{display:"none"},children:(0,e.jsxs)(n.Z,{span:24,children:[(0,e.jsx)(a.Z.Item,{label:"\u79CD\u5B50",name:"seed",rules:[{required:!0,message:"\u79CD\u5B50!"}],children:(0,e.jsx)(P.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"\u91C7\u6837\u5668",name:"sampler",rules:[{required:!0,message:"\u91C7\u6837\u5668!"}],children:(0,e.jsx)(_.Z,{children:oe.map(function(i){return(0,e.jsx)(_.Z.Option,{value:i,children:i},i)})})}),(0,e.jsx)(a.Z.Item,{label:"\u6B65\u6570",name:"steps",rules:[{required:!0,message:"\u6B65\u6570!"}],children:(0,e.jsx)(P.Z,{min:5,max:50})})]})}),(0,e.jsx)(a.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(y.ZP,{type:"primary",htmlType:"submit",disabled:W,children:o.formatMessage({id:"pages.common.buttonBeginGen"})})})]})}),(0,e.jsx)(n.Z,{span:1}),(0,e.jsx)(n.Z,{span:14,children:(0,e.jsxs)("div",{style:{width:"100%",borderRadius:4,margin:8},children:[W?(0,e.jsx)("div",{children:(0,e.jsx)(I.Z,{})}):null,V.map(function(i,r){return(0,e.jsx)(F.Z,{src:"data:image/png;base64,"+i,style:{maxWidth:320,maxHeight:320,border:"solid #fff 1px",margin:"10px",float:"left"}},r)})]})})]})})})};b.default=$},92296:function(w,b,t){t.d(b,{Tl:function(){return y},fN:function(){return A},uu:function(){return U}});var T=t(15009),d=t.n(T),Z=t(97857),D=t.n(Z),C=t(99289),u=t.n(C),f=t(35312);function I(n,a){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,_){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(_objectSpread({},_||{})),s.abrupt("return",request("/api/write-marketing-text",_objectSpread({method:"POST",data:a},_||{})));case 2:case"end":return s.stop()}},n)})),x.apply(this,arguments)}function U(n,a){return j.apply(this,arguments)}function j(){return j=u()(d()().mark(function n(a,_){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a.model_id!="product_design"){s.next=2;break}return s.abrupt("return",(0,f.request)("/api/product-design",D()({method:"POST",data:a},_||{})));case 2:return s.abrupt("return",(0,f.request)("/api/bedrock-product-design",D()({method:"POST",data:a},_||{})));case 3:case"end":return s.stop()}},n)})),j.apply(this,arguments)}function A(n,a){return m.apply(this,arguments)}function m(){return m=u()(d()().mark(function n(a,_){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/inpaint",D()({method:"POST",data:a},_||{})));case 1:case"end":return s.stop()}},n)})),m.apply(this,arguments)}function y(n,a){return p.apply(this,arguments)}function p(){return p=u()(d()().mark(function n(a,_){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/agent",D()({method:"POST",data:a},_||{})));case 1:case"end":return s.stop()}},n)})),p.apply(this,arguments)}}}]);
