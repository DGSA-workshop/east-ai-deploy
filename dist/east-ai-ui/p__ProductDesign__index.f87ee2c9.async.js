"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[911],{65083:function(S,O,a){a.r(O);var T=a(15009),o=a.n(T),I=a(99289),h=a.n(I),Z=a(5574),u=a.n(Z),f=a(92296),C=a(79090),j=a(51042),U=a(90930),E=a(35312),R=a(9361),d=a(2453),v=a(97029),p=a(71230),r=a(15746),s=a(5298),_=a(31863),M=a(2519),t=a(66428),P=a(73360),w=a(3247),y=a(67294),e=a(85893),F=function(){var l=(0,E.useIntl)(),G=R.Z.useToken(),$=G.token,N=(0,y.useState)([]),B=u()(N,2),k=B[0],H=B[1],z=(0,y.useState)(!1),A=u()(z,2),L=A[0],D=A[1],V=(0,y.useState)(),W=u()(V,2),x=W[0],J=W[1],X=(0,y.useState)("product_design"),K=u()(X,2),b=K[0],Y=K[1],Q=function(){var i=h()(o()().mark(function n(m){var c;return o()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return D(!0),m.prompt="3D product render, ".concat(m.prompt,", finely detailed, purism, ue 5, a computer rendering, minimalism, octane render, 4k"),x&&x.length>1&&(m.input_image=x),g.next=5,(0,f.uu)(m);case 5:if(c=g.sent,!c.error){g.next=10;break}return d.ZP.error(c.error),D(!1),g.abrupt("return");case 10:H(c.images),D(!1);case 12:case"end":return g.stop()}},n)}));return function(m){return i.apply(this,arguments)}}(),q=function(n){console.log("Failed:",n)},ee=["euler_a","eular","heun","lms","dpm2","dpm2_a","ddim"],ae=["enhance","anime","photographic","digital-art","comic-book","fantasy-art","analog-film","neon-punk","isometric","low-poly","origami","line-art","craft-clay","cinematic","3d-model","pixel-art"],se={prompt:"futuristic armchair",negative_prompt:"EasyNegative, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), cropped, text, jpeg artifacts, signature, watermark, username, sketch, cartoon, drawing, anime, duplicate, blurry, semi-realistic, out of frame, ugly, deformed",steps:30,sampler:"dpm2_a",seed:-1,height:512,width:512,count:1,model_id:"product_design",style_preset:"3d-model"},te=function(n){if(n.file.status==="uploading"){D(!0);return}n.file.status==="done"&&(n.file.response.success?J(n.file.response.data):d.ZP.error(n.file.response.message),D(!1))},re=function(n){var m=n.type==="image/jpeg"||n.type==="image/png"||n.type==="image/webp";m||d.ZP.error("You can only upload JPG/PNG file!");var c=n.size/1024/1024<5;return c||d.ZP.error("Image must smaller than 5MB!"),m&&c},ne=function(n){Y(n)},_e=(0,e.jsx)("div",{children:L?(0,e.jsx)(C.Z,{}):(0,e.jsx)(v.ZP,{icon:(0,e.jsx)(j.Z,{}),children:l.formatMessage({id:"pages.common.buttonUpload"})})});return(0,e.jsx)(U._z,{waterMarkProps:{content:""},children:(0,e.jsx)("div",{style:{color:$.colorTextHeading},children:(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(r.Z,{span:8,children:(0,e.jsxs)(s.Z,{name:"basic",onFinish:Q,onFinishFailed:q,autoComplete:"off",layout:"vertical",initialValues:se,children:[(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.modelId.title"}),name:"model_id",children:(0,e.jsxs)(_.Z,{onChange:ne,children:[(0,e.jsx)(_.Z.Option,{value:"product_design",children:l.formatMessage({id:"pages.productDesign.model.realityStyle"})}),(0,e.jsx)(_.Z.Option,{value:"bedrock_sdxl",children:l.formatMessage({id:"pages.productDesign.model.bedrockSDXL"})})]})}),b==="product_design"?(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.inputImage.title"}),name:"input_image",valuePropName:"fieldList",children:(0,e.jsx)(M.Z,{name:"file",action:"/api/upload",className:"avatar-uploader",onChange:te,beforeUpload:re,maxCount:1,showUploadList:!1,children:x?(0,e.jsx)("img",{src:"/api/s3-image/"+x,alt:"product image",style:{maxHeight:320,maxWidth:320}}):_e})}):null,(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.prompt.title"}),name:"prompt",rules:[{required:!0}],children:(0,e.jsx)(t.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.nprompt.title"}),name:"negative_prompt",rules:[{required:!0}],children:(0,e.jsx)(t.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(r.Z,{span:8,children:(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.width.title"}),name:"width",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:128,max:1024})})}),(0,e.jsx)(r.Z,{span:8,children:(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.height.title"}),name:"height",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:128,max:1024})})}),(0,e.jsxs)(r.Z,{span:8,children:[b==="product_design"?(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.count.title"}),name:"count",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:1,max:4})}):null,b==="bedrock_sdxl"?(0,e.jsx)(s.Z.Item,{label:l.formatMessage({id:"pages.productDesign.stylePreset.title"}),name:"style_preset",children:(0,e.jsx)(_.Z,{children:ae.map(function(i){return(0,e.jsx)(_.Z.Option,{value:i,children:i},i)})})}):null]})]}),(0,e.jsx)(p.Z,{style:{display:"none"},children:(0,e.jsxs)(r.Z,{span:24,children:[(0,e.jsx)(s.Z.Item,{label:"\u79CD\u5B50",name:"seed",rules:[{required:!0,message:"\u79CD\u5B50!"}],children:(0,e.jsx)(P.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u91C7\u6837\u5668",name:"sampler",rules:[{required:!0,message:"\u91C7\u6837\u5668!"}],children:(0,e.jsx)(_.Z,{children:ee.map(function(i){return(0,e.jsx)(_.Z.Option,{value:i,children:i},i)})})}),(0,e.jsx)(s.Z.Item,{label:"\u6B65\u6570",name:"steps",rules:[{required:!0,message:"\u6B65\u6570!"}],children:(0,e.jsx)(P.Z,{min:5,max:50})})]})}),(0,e.jsx)(s.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(v.ZP,{type:"primary",htmlType:"submit",disabled:L,children:l.formatMessage({id:"pages.common.buttonBeginGen"})})})]})}),(0,e.jsx)(r.Z,{span:1}),(0,e.jsx)(r.Z,{span:14,children:(0,e.jsxs)("div",{style:{width:"100%",borderRadius:4,margin:8},children:[L?(0,e.jsx)("div",{children:(0,e.jsx)(C.Z,{})}):null,k.map(function(i,n){return(0,e.jsx)(w.Z,{src:"data:image/png;base64,"+i,style:{maxWidth:320,maxHeight:320,border:"solid #fff 1px",margin:"10px",float:"left"}},n)})]})})]})})})};O.default=F},92296:function(S,O,a){a.d(O,{Tl:function(){return v},fN:function(){return R},uu:function(){return U}});var T=a(15009),o=a.n(T),I=a(97857),h=a.n(I),Z=a(99289),u=a.n(Z),f=a(35312);function C(r,s){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function r(s,_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(_objectSpread({},_||{})),t.abrupt("return",request("/api/write-marketing-text",_objectSpread({method:"POST",data:s},_||{})));case 2:case"end":return t.stop()}},r)})),j.apply(this,arguments)}function U(r,s){return E.apply(this,arguments)}function E(){return E=u()(o()().mark(function r(s,_){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.model_id!="bedrock_sdxl"){t.next=2;break}return t.abrupt("return",(0,f.request)("/api/bedrock-product-design",h()({method:"POST",data:s},_||{})));case 2:return t.abrupt("return",(0,f.request)("/api/product-design",h()({method:"POST",data:s},_||{})));case 3:case"end":return t.stop()}},r)})),E.apply(this,arguments)}function R(r,s){return d.apply(this,arguments)}function d(){return d=u()(o()().mark(function r(s,_){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/inpaint",h()({method:"POST",data:s},_||{})));case 1:case"end":return t.stop()}},r)})),d.apply(this,arguments)}function v(r,s){return p.apply(this,arguments)}function p(){return p=u()(o()().mark(function r(s,_){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/agent",h()({method:"POST",data:s},_||{})));case 1:case"end":return t.stop()}},r)})),p.apply(this,arguments)}}}]);
