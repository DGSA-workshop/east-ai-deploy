"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[911],{65083:function(R,x,s){s.r(x);var b=s(15009),l=s.n(b),M=s(99289),p=s.n(M),v=s(5574),o=s.n(v),c=s(92296),B=s(79090),h=s(51042),C=s(90930),E=s(9361),g=s(2453),d=s(97029),n=s(71230),_=s(15746),a=s(5298),i=s(31863),r=s(2519),y=s(66428),j=s(73360),L=s(3247),T=s(67294),e=s(85893),W=function(){var F=E.Z.useToken(),K=F.token,S=(0,T.useState)([]),U=o()(S,2),w=U[0],G=U[1],N=(0,T.useState)(!1),Z=o()(N,2),I=Z[0],O=Z[1],$=(0,T.useState)(),A=o()($,2),f=A[0],H=A[1],z=function(){var u=p()(l()().mark(function t(m){var D;return l()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return O(!0),f&&f.length>1&&(m.input_image=f),P.next=4,(0,c.uu)(m);case 4:D=P.sent,G(D.images),O(!1);case 7:case"end":return P.stop()}},t)}));return function(m){return u.apply(this,arguments)}}(),V=function(t){console.log("Failed:",t)},J=["euler_a","eular","heun","lms","dpm2","dpm2_a","ddim"],X={prompt:"futuristic armchair",negative_prompt:"EasyNegative, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), cropped, text, jpeg artifacts, signature, watermark, username, sketch, cartoon, drawing, anime, duplicate, blurry, semi-realistic, out of frame, ugly, deformed",steps:30,sampler:"dpm2_a",seed:-1,height:512,width:512,count:1,model_id:"product_design"},Y=function(t){if(t.file.status==="uploading"){O(!0);return}t.file.status==="done"&&(t.file.response.success?H(t.file.response.data):g.ZP.error(t.file.response.message),O(!1))},Q=function(t){var m=t.type==="image/jpeg"||t.type==="image/png"||t.type==="image/webp";m||g.ZP.error("You can only upload JPG/PNG file!");var D=t.size/1024/1024<5;return D||g.ZP.error("Image must smaller than 5MB!"),m&&D},k=(0,e.jsx)("div",{children:I?(0,e.jsx)(B.Z,{}):(0,e.jsx)(d.ZP,{icon:(0,e.jsx)(h.Z,{}),children:"\u4E0A\u4F20"})});return(0,e.jsx)(C._z,{waterMarkProps:{content:""},children:(0,e.jsx)("div",{style:{color:K.colorTextHeading},children:(0,e.jsxs)(n.Z,{children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(a.Z,{name:"basic",onFinish:z,onFinishFailed:V,autoComplete:"off",layout:"vertical",initialValues:X,children:[(0,e.jsx)(a.Z.Item,{label:"\u6A21\u578B\u9009\u62E9",name:"model_id",children:(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(i.Z.Option,{value:"product_design",children:"\u771F\u5B9E\u98CE\u683C\u6A21\u578B"}),(0,e.jsx)(i.Z.Option,{value:"bedrock_sdxl",children:"SDXL(bedrock)"})]})}),(0,e.jsx)(a.Z.Item,{label:"\u53C2\u8003\u56FE\u7247\uFF08\u53EF\u9009\uFF09",name:"input_image",valuePropName:"fieldList",children:(0,e.jsx)(r.Z,{name:"file",action:"/api/upload",className:"avatar-uploader",onChange:Y,beforeUpload:Q,maxCount:1,showUploadList:!1,children:f?(0,e.jsx)("img",{src:"/api/s3-image/"+f,alt:"product image",style:{maxHeight:320,maxWidth:320}}):k})}),(0,e.jsx)(a.Z.Item,{label:"\u751F\u6210\u5185\u5BB9\u63D0\u793A\u8BCD",name:"prompt",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5546\u54C1\u7279\u70B9\u7B49\u5185\u5BB9!"}],children:(0,e.jsx)(y.Z.TextArea,{showCount:!0,maxLength:500,placeholder:"\u8BF7\u8F93\u5165\u5546\u54C1\u7279\u70B9\u7B49\u5185\u5BB9!",allowClear:!0,style:{height:120}})}),(0,e.jsx)(a.Z.Item,{label:"\u907F\u514D\u51FA\u73B0\u5728\u753B\u9762\u4E2D\u7684\u5185\u5BB9",name:"negative_prompt",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u53CD\u5411\u63D0\u793A\u8BCD!"}],children:(0,e.jsx)(y.Z.TextArea,{showCount:!0,maxLength:500,placeholder:"\u8BF7\u8F93\u5165\u60A8\u4E0D\u60F3\u5728\u4EA7\u54C1\u4E2D\u51FA\u73B0\u7684\u5143\u7D20",allowClear:!0,style:{height:120}})}),(0,e.jsxs)(n.Z,{children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsx)(a.Z.Item,{label:"\u5BBD(px)",name:"width",rules:[{required:!0,message:"\u5BBD\u5EA6!"}],children:(0,e.jsx)(j.Z,{min:128,max:1024})})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsx)(a.Z.Item,{label:"\u9AD8(px)",name:"height",rules:[{required:!0,message:"\u9AD8\u5EA6!"}],children:(0,e.jsx)(j.Z,{min:128,max:1024})})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsx)(a.Z.Item,{label:"\u56FE\u7247\u6570\u91CF",name:"count",rules:[{required:!0,message:"\u56FE\u7247\u6570\u91CF!"}],children:(0,e.jsx)(j.Z,{min:1,max:4})})})]}),(0,e.jsx)(n.Z,{style:{display:"none"},children:(0,e.jsxs)(_.Z,{span:24,children:[(0,e.jsx)(a.Z.Item,{label:"\u79CD\u5B50",name:"seed",rules:[{required:!0,message:"\u79CD\u5B50!"}],children:(0,e.jsx)(j.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"\u91C7\u6837\u5668",name:"sampler",rules:[{required:!0,message:"\u91C7\u6837\u5668!"}],children:(0,e.jsx)(i.Z,{children:J.map(function(u){return(0,e.jsx)(i.Z.Option,{value:u,children:u},u)})})}),(0,e.jsx)(a.Z.Item,{label:"\u6B65\u6570",name:"steps",rules:[{required:!0,message:"\u6B65\u6570!"}],children:(0,e.jsx)(j.Z,{min:5,max:50})})]})}),(0,e.jsx)(a.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(d.ZP,{type:"primary",htmlType:"submit",children:"\u5F00\u59CB\u751F\u6210"})})]})}),(0,e.jsx)(_.Z,{span:1}),(0,e.jsx)(_.Z,{span:14,children:(0,e.jsxs)("div",{style:{width:"100%",borderRadius:4,margin:8},children:[I?(0,e.jsx)("div",{children:(0,e.jsx)(B.Z,{})}):null,w.map(function(u,t){return(0,e.jsx)(L.Z,{src:"data:image/png;base64,"+u,style:{maxWidth:320,maxHeight:320,border:"solid #fff 1px",margin:"10px",float:"left"}},t)})]})})]})})})};x.default=W},92296:function(R,x,s){s.d(x,{fN:function(){return g},uu:function(){return C}});var b=s(15009),l=s.n(b),M=s(97857),p=s.n(M),v=s(99289),o=s.n(v),c=s(35312);function B(n,_){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function n(_,a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(_objectSpread({},a||{})),r.abrupt("return",request("/api/write-marketing-text",_objectSpread({method:"POST",data:_},a||{})));case 2:case"end":return r.stop()}},n)})),h.apply(this,arguments)}function C(n,_){return E.apply(this,arguments)}function E(){return E=o()(l()().mark(function n(_,a){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log(_),_.model_id!="bedrock_sdxl"){r.next=3;break}return r.abrupt("return",(0,c.request)("/api/bedrock-product-design",p()({method:"POST",data:_},a||{})));case 3:return r.abrupt("return",(0,c.request)("/api/product-design",p()({method:"POST",data:_},a||{})));case 4:case"end":return r.stop()}},n)})),E.apply(this,arguments)}function g(n,_){return d.apply(this,arguments)}function d(){return d=o()(l()().mark(function n(_,a){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("/api/inpaint",p()({method:"POST",data:_},a||{})));case 1:case"end":return r.stop()}},n)})),d.apply(this,arguments)}}}]);
