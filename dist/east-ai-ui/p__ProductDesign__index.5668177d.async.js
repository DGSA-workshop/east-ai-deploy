"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[911],{65083:function(K,b,a){a.r(b);var v=a(15009),m=a.n(v),y=a(99289),h=a.n(y),T=a(5574),p=a.n(T),f=a(92296),I=a(79090),j=a(51042),Z=a(90930),E=a(35312),C=a(9361),d=a(2453),o=a(97029),i=a(71230),_=a(15746),r=a(5298),s=a(31863),S=a(2519),R=a(66428),M=a(73360),w=a(3247),O=a(67294),e=a(85893),F=function(){var l=(0,E.useIntl)(),G=C.Z.useToken(),N=G.token,$=(0,O.useState)([]),L=p()($,2),H=L[0],z=L[1],V=(0,O.useState)(!1),B=p()(V,2),U=B[0],D=B[1],J=(0,O.useState)(),A=p()(J,2),P=A[0],X=A[1],Y=(0,O.useState)("product_design"),W=p()(Y,2),x=W[0],k=W[1],Q=function(){var n=h()(m()().mark(function t(u){var c;return m()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return D(!0),u.prompt="3D product render, ".concat(u.prompt,", finely detailed, purism, ue 5, a computer rendering, minimalism, octane render, 4k"),P&&P.length>1&&(u.input_image=P),g.next=5,(0,f.uu)(u);case 5:if(c=g.sent,!c.error){g.next=10;break}return d.ZP.error(c.error),D(!1),g.abrupt("return");case 10:z(c.images),D(!1);case 12:case"end":return g.stop()}},t)}));return function(u){return n.apply(this,arguments)}}(),q=function(t){console.log("Failed:",t)},ee=["euler_a","eular","heun","lms","dpm2","dpm2_a","ddim"],ae=["enhance","anime","photographic","digital-art","comic-book","fantasy-art","analog-film","neon-punk","isometric","low-poly","origami","line-art","craft-clay","cinematic","3d-model","pixel-art"],se={prompt:"futuristic armchair",negative_prompt:"EasyNegative, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), cropped, text, jpeg artifacts, signature, watermark, username, sketch, cartoon, drawing, anime, duplicate, blurry, semi-realistic, out of frame, ugly, deformed",steps:30,sampler:"dpm2_a",seed:-1,height:512,width:512,count:1,model_id:"product_design",style_preset:"3d-model"},te=function(t){if(t.file.status==="uploading"){D(!0);return}t.file.status==="done"&&(t.file.response.success?X(t.file.response.data):d.ZP.error(t.file.response.message),D(!1))},re=function(t){var u=t.type==="image/jpeg"||t.type==="image/png"||t.type==="image/webp";u||d.ZP.error("You can only upload JPG/PNG file!");var c=t.size/1024/1024<5;return c||d.ZP.error("Image must smaller than 5MB!"),u&&c},_e=function(t){k(t)},ne=(0,e.jsx)("div",{children:U?(0,e.jsx)(I.Z,{}):(0,e.jsx)(o.ZP,{icon:(0,e.jsx)(j.Z,{}),children:l.formatMessage({id:"pages.common.buttonUpload"})})});return(0,e.jsx)(Z._z,{waterMarkProps:{content:""},children:(0,e.jsx)("div",{style:{color:N.colorTextHeading},children:(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsxs)(r.Z,{name:"basic",onFinish:Q,onFinishFailed:q,autoComplete:"off",layout:"vertical",initialValues:se,children:[(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.modelId.title"}),name:"model_id",children:(0,e.jsxs)(s.Z,{onChange:_e,children:[(0,e.jsx)(s.Z.Option,{value:"product_design",children:l.formatMessage({id:"pages.productDesign.model.realityStyle"})}),(0,e.jsx)(s.Z.Option,{value:"bedrock_sdxl",children:l.formatMessage({id:"pages.productDesign.model.bedrockSDXL"})})]})}),x==="product_design"?(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.inputImage.title"}),name:"input_image",valuePropName:"fieldList",children:(0,e.jsx)(S.Z,{name:"file",action:"/api/upload",className:"avatar-uploader",onChange:te,beforeUpload:re,maxCount:1,showUploadList:!1,children:P?(0,e.jsx)("img",{src:"/api/s3-image/"+P,alt:"product image",style:{maxHeight:320,maxWidth:320}}):ne})}):null,(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.prompt.title"}),name:"prompt",rules:[{required:!0}],children:(0,e.jsx)(R.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.nprompt.title"}),name:"negative_prompt",rules:[{required:!0}],children:(0,e.jsx)(R.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsxs)(i.Z,{children:[(0,e.jsx)(_.Z,{span:8,children:(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.width.title"}),name:"width",rules:[{required:!0}],children:(0,e.jsx)(M.Z,{min:128,max:x==="product_design"?1024:768})})}),(0,e.jsx)(_.Z,{span:8,children:(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.height.title"}),name:"height",rules:[{required:!0}],children:(0,e.jsx)(M.Z,{min:128,max:x==="product_design"?1024:768})})}),(0,e.jsxs)(_.Z,{span:8,children:[x==="product_design"?(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.count.title"}),name:"count",rules:[{required:!0}],children:(0,e.jsx)(M.Z,{min:1,max:4})}):null,x==="bedrock_sdxl"?(0,e.jsx)(r.Z.Item,{label:l.formatMessage({id:"pages.productDesign.stylePreset.title"}),name:"style_preset",children:(0,e.jsx)(s.Z,{children:ae.map(function(n){return(0,e.jsx)(s.Z.Option,{value:n,children:n},n)})})}):null]})]}),(0,e.jsx)(i.Z,{style:{display:"none"},children:(0,e.jsxs)(_.Z,{span:24,children:[(0,e.jsx)(r.Z.Item,{label:"\u79CD\u5B50",name:"seed",rules:[{required:!0,message:"\u79CD\u5B50!"}],children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u91C7\u6837\u5668",name:"sampler",rules:[{required:!0,message:"\u91C7\u6837\u5668!"}],children:(0,e.jsx)(s.Z,{children:ee.map(function(n){return(0,e.jsx)(s.Z.Option,{value:n,children:n},n)})})}),(0,e.jsx)(r.Z.Item,{label:"\u6B65\u6570",name:"steps",rules:[{required:!0,message:"\u6B65\u6570!"}],children:(0,e.jsx)(M.Z,{min:5,max:50})})]})}),(0,e.jsx)(r.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(o.ZP,{type:"primary",htmlType:"submit",disabled:U,children:l.formatMessage({id:"pages.common.buttonBeginGen"})})})]})}),(0,e.jsx)(_.Z,{span:1}),(0,e.jsx)(_.Z,{span:14,children:(0,e.jsxs)("div",{style:{width:"100%",borderRadius:4,margin:8},children:[U?(0,e.jsx)("div",{children:(0,e.jsx)(I.Z,{})}):null,H.map(function(n,t){return(0,e.jsx)(w.Z,{src:"data:image/png;base64,"+n,style:{maxWidth:320,maxHeight:320,border:"solid #fff 1px",margin:"10px",float:"left"}},t)})]})})]})})})};b.default=F},92296:function(K,b,a){a.d(b,{fN:function(){return C},uu:function(){return Z}});var v=a(15009),m=a.n(v),y=a(97857),h=a.n(y),T=a(99289),p=a.n(T),f=a(35312);function I(o,i){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function o(i,_){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(_objectSpread({},_||{})),s.abrupt("return",request("/api/write-marketing-text",_objectSpread({method:"POST",data:i},_||{})));case 2:case"end":return s.stop()}},o)})),j.apply(this,arguments)}function Z(o,i){return E.apply(this,arguments)}function E(){return E=p()(m()().mark(function o(i,_){return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i.model_id!="bedrock_sdxl"){s.next=2;break}return s.abrupt("return",(0,f.request)("/api/bedrock-product-design",h()({method:"POST",data:i},_||{})));case 2:return s.abrupt("return",(0,f.request)("/api/product-design",h()({method:"POST",data:i},_||{})));case 3:case"end":return s.stop()}},o)})),E.apply(this,arguments)}function C(o,i){return d.apply(this,arguments)}function d(){return d=p()(m()().mark(function o(i,_){return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/inpaint",h()({method:"POST",data:i},_||{})));case 1:case"end":return s.stop()}},o)})),d.apply(this,arguments)}}}]);
