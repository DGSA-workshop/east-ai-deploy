"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[911],{65083:function(G,b,t){t.r(b);var Z=t(15009),d=t.n(Z),C=t(99289),x=t.n(C),I=t(5574),o=t.n(I),j=t(92296),y=t(79090),E=t(51042),U=t(90930),M=t(80854),R=t(9361),m=t(2453),T=t(97029),p=t(71230),n=t(15746),a=t(5298),i=t(57075),D=t(2519),s=t(14657),P=t(73360),k=t(25897),f=t(67294),e=t(85893),$=function(){var u=(0,M.useIntl)(),z=R.Z.useToken(),N=z.token,H=(0,f.useState)([]),B=o()(H,2),V=B[0],J=B[1],X=(0,f.useState)(!1),A=o()(X,2),L=A[0],O=A[1],Y=(0,f.useState)(),W=o()(Y,2),v=W[0],Q=W[1],q=(0,f.useState)("product_design"),K=o()(q,2),c=K[0],ee=K[1],te=(0,f.useState)(512),S=o()(te,2),ae=S[0],se=S[1],re=(0,f.useState)(512),w=o()(re,2),ne=w[0],ie=w[1],_e=function(){var _=x()(d()().mark(function r(l){var h;return d()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return O(!0),l.prompt="3D product render, ".concat(l.prompt,", finely detailed, purism, ue 5, a computer rendering, minimalism, octane render, 4k"),v&&v.length>1&&(l.input_image=v),l.width||(l.width=ae),l.height||(l.height=ne),g.next=7,(0,j.uu)(l);case 7:if(h=g.sent,!h.error){g.next=12;break}return m.ZP.error(h.error),O(!1),g.abrupt("return");case 12:J(h.images),O(!1);case 14:case"end":return g.stop()}},r)}));return function(l){return _.apply(this,arguments)}}(),le=function(r){console.log("Failed:",r)},ue=["euler_a","eular","heun","lms","dpm2","dpm2_a","ddim"],oe=["enhance","anime","photographic","digital-art","comic-book","fantasy-art","analog-film","neon-punk","isometric","low-poly","origami","line-art","craft-clay","cinematic","3d-model","pixel-art"],F={"512 x 512":[512,512],"768 x 768":[768,768],"1024 x 1024":[1024,1024],"576 x 384":[576,384],"640 x 384":[640,384],"704 x 384":[704,384],"1152 x 768":[1152,768],"1173 x 640":[1173,640],"320 x 704":[320,704],"448 x 576":[448,576],"768 x 1152":[768,1152]},de={prompt:"futuristic armchair",negative_prompt:"EasyNegative, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), cropped, text, jpeg artifacts, signature, watermark, username, sketch, cartoon, drawing, anime, duplicate, blurry, semi-realistic, out of frame, ugly, deformed",steps:30,sampler:"dpm2_a",seed:-1,height:512,width:512,count:1,model_id:"product_design",style_preset:"3d-model"},me=function(r){if(r.file.status==="uploading"){O(!0);return}r.file.status==="done"&&(r.file.response.success?Q(r.file.response.data):m.ZP.error(r.file.response.message),O(!1))},pe=function(r){var l=r.type==="image/jpeg"||r.type==="image/png"||r.type==="image/webp";l||m.ZP.error("You can only upload JPG/PNG file!");var h=r.size/1024/1024<5;return h||m.ZP.error("Image must smaller than 5MB!"),l&&h},ce=function(r){ee(r)},he=function(r){var l=F[r];se(l[0]),ie(l[1])},ge=(0,e.jsx)("div",{children:L?(0,e.jsx)(y.Z,{}):(0,e.jsx)(T.ZP,{icon:(0,e.jsx)(E.Z,{}),children:u.formatMessage({id:"pages.common.buttonUpload"})})});return(0,e.jsx)(U._z,{waterMarkProps:{content:""},children:(0,e.jsx)("div",{style:{color:N.colorTextHeading},children:(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsxs)(a.Z,{name:"basic",onFinish:_e,onFinishFailed:le,autoComplete:"off",layout:"vertical",initialValues:de,children:[(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.modelId.title"}),name:"model_id",children:(0,e.jsxs)(i.Z,{onChange:ce,children:[(0,e.jsx)(i.Z.Option,{value:"product_design",children:u.formatMessage({id:"pages.productDesign.model.realityStyle"})}),(0,e.jsx)(i.Z.Option,{value:"bedrock_sdxl",children:u.formatMessage({id:"pages.productDesign.model.bedrockSDXL"})}),(0,e.jsx)(i.Z.Option,{value:"bedrock_titan",children:u.formatMessage({id:"pages.productDesign.model.bedrockTitan"})})]})}),c==="product_design"?(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.inputImage.title"}),name:"input_image",valuePropName:"fieldList",children:(0,e.jsx)(D.Z,{name:"file",action:"/api/upload",className:"avatar-uploader",onChange:me,beforeUpload:pe,maxCount:1,showUploadList:!1,children:v?(0,e.jsx)("img",{src:"/api/s3-image/"+v,alt:"product image",style:{maxHeight:320,maxWidth:320}}):ge})}):null,(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.prompt.title"}),name:"prompt",rules:[{required:!0}],children:(0,e.jsx)(s.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.nprompt.title"}),name:"negative_prompt",rules:[{required:!0}],children:(0,e.jsx)(s.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsxs)(p.Z,{children:[c==="bedrock_titan"?(0,e.jsx)(n.Z,{span:16,children:(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.size.title"}),children:(0,e.jsx)(i.Z,{onChange:he,children:Object.keys(F).map(function(_){return(0,e.jsx)(i.Z.Option,{value:_},_)})})})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.width.title"}),name:"width",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:128,max:1024})})}),(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.height.title"}),name:"height",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:128,max:1024})})})]}),(0,e.jsxs)(n.Z,{span:8,children:[c==="product_design"||c==="bedrock_titan"?(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.count.title"}),name:"count",rules:[{required:!0}],children:(0,e.jsx)(P.Z,{min:1,max:4})}):null,c==="bedrock_sdxl"?(0,e.jsx)(a.Z.Item,{label:u.formatMessage({id:"pages.productDesign.stylePreset.title"}),name:"style_preset",children:(0,e.jsx)(i.Z,{children:oe.map(function(_){return(0,e.jsx)(i.Z.Option,{value:_,children:_},_)})})}):null]})]}),(0,e.jsx)(p.Z,{style:{display:"none"},children:(0,e.jsxs)(n.Z,{span:24,children:[(0,e.jsx)(a.Z.Item,{label:"\u79CD\u5B50",name:"seed",rules:[{required:!0,message:"\u79CD\u5B50!"}],children:(0,e.jsx)(P.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"\u91C7\u6837\u5668",name:"sampler",rules:[{required:!0,message:"\u91C7\u6837\u5668!"}],children:(0,e.jsx)(i.Z,{children:ue.map(function(_){return(0,e.jsx)(i.Z.Option,{value:_,children:_},_)})})}),(0,e.jsx)(a.Z.Item,{label:"\u6B65\u6570",name:"steps",rules:[{required:!0,message:"\u6B65\u6570!"}],children:(0,e.jsx)(P.Z,{min:5,max:50})})]})}),(0,e.jsx)(a.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(T.ZP,{type:"primary",htmlType:"submit",disabled:L,children:u.formatMessage({id:"pages.common.buttonBeginGen"})})})]})}),(0,e.jsx)(n.Z,{span:1}),(0,e.jsx)(n.Z,{span:14,children:(0,e.jsxs)("div",{style:{width:"100%",borderRadius:4,margin:8},children:[L?(0,e.jsx)("div",{children:(0,e.jsx)(y.Z,{})}):null,V.map(function(_,r){return(0,e.jsx)(k.Z,{src:"data:image/png;base64,"+_,style:{maxWidth:320,maxHeight:320,border:"solid #fff 1px",margin:"10px",float:"left"}},r)})]})})]})})})};b.default=$},92296:function(G,b,t){t.d(b,{Tl:function(){return T},fN:function(){return R},uu:function(){return U}});var Z=t(15009),d=t.n(Z),C=t(97857),x=t.n(C),I=t(99289),o=t.n(I),j=t(80854);function y(n,a){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,i){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(_objectSpread({},i||{})),s.abrupt("return",request("/api/write-marketing-text",_objectSpread({method:"POST",data:a},i||{})));case 2:case"end":return s.stop()}},n)})),E.apply(this,arguments)}function U(n,a){return M.apply(this,arguments)}function M(){return M=o()(d()().mark(function n(a,i){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a.model_id!="product_design"){s.next=2;break}return s.abrupt("return",(0,j.request)("/api/product-design",x()({method:"POST",data:a},i||{})));case 2:return s.abrupt("return",(0,j.request)("/api/bedrock-product-design",x()({method:"POST",data:a},i||{})));case 3:case"end":return s.stop()}},n)})),M.apply(this,arguments)}function R(n,a){return m.apply(this,arguments)}function m(){return m=o()(d()().mark(function n(a,i){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,j.request)("/api/inpaint",x()({method:"POST",data:a},i||{})));case 1:case"end":return s.stop()}},n)})),m.apply(this,arguments)}function T(n,a){return p.apply(this,arguments)}function p(){return p=o()(d()().mark(function n(a,i){return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,j.request)("/api/agent",x()({method:"POST",data:a},i||{})));case 1:case"end":return s.stop()}},n)})),p.apply(this,arguments)}}}]);
